#
# Augments the production-ready Deposit Services image with configuration suitable for running integration tests.  This
# allows packages generated by Deposit Services package providers to be stored on the filesystem and inspected by
# test code.
#
FROM oapass/deposit-services-providers:${project.parent.version}

# Configuration for using the Filesystem transport for ITs
RUN touch /repositories.json
COPY repositories.json /repositories.json

# Create the directory that will accept packages
# This directory is bind-mounted to the Docker host, allowing access to the generated packages
RUN mkdir /packages